<!DOCTYPE html>
<html>
<head>
    <title>Oslo.timer, Oslo.async.throttle, Oslo.async.delay</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <link rel="stylesheet" href="../css/demo.css">
    <style>
        .userStatus {
            font-style: italic;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Timer相关的一组Demo</h1>
    <h2>Oslo.async.delay</h2>
    <p>在一些延时后执行函数.</p>
    Delay (seconds): <input size="2" type="text" id="delaySeconds" value="2">
    <button onclick="doDelay()">开始计时</button>
    <button onclick="doReset()">重启计时器</button>
    <br />
    Delay Status: <span class="userStatus" id="delayStatus">Not Set</span>

    <h2>Oslo.async.throttle</h2>
    节流机制可以防止在一定时间间隔内动作多次触发。
    <br />
    创建一个Throttle, 尽多次的点击'Do Throttle'按钮. 'Hits'的次数随之不断累积增加.
    <br />
    但是函数在间隔时间内不会多次触发.
    <p>
        Throttle interval (seconds):
        <input size="2" type="text" id="throttleSeconds" value="2">
        <button onclick="doThrottleStart()">Create Throttle</button>
        <button onclick="doThrottle()">Do Throttle</button>
        <br />
        Throttle Hits: <span class="userStatus" id="throttleHits"></span>
        <br />
        Throttle Action Called: <span class="userStatus" id="throttleStatus"></span>
    </p>

    <h2>Oslo.timer</h2>
    timer对象在被启用后可以在每次一定时间间隔后触发函数, 它监听的是'tick'事件.
    <p>
        Timer interval (seconds):
        <input size="2" type="text" id="timerSeconds" value="1">
        <button onclick="doTimerStart()">Start Timer</button>
        <button onclick="doTimerStop()">Stop Timer</button>
        <button onclick="doTimerRestart()">Restart Timer</button>
        <br />
        Timer Status: <span class="userStatus" id="timerStatus">Not Set</span>
    </p>

    <h2>Oslo.timer.callOnce</h2>
    Timer模块有一个很有用的方法在指定时间后触发动作.
    <br />
    这个方法是window.setTimeout的一个包装, 对应的还有个clear方法.
    <p>
        Timeout (seconds): <input size="2" type="text" id="doOnceSeconds" value="2">
        <button onclick="doOnce()">Go</button>
        <button onclick="doOnceClear()">Clear</button>
        <br />
        Call Once Status: <span class="userStatus" id="doOnceStatus"></span>
    </p>

    <script type="text/javascript" src="../../src/kernel.js"></script>
    <script type="text/javascript" src="timer.js"></script>
</body>
</html>
